<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="{{url_for('static', filename='styles/global.css')}}"
        />
        <title>
            {{pathname+' | ' if pathname else '' }}{{name}} | Git Glimpse
        </title>
    </head>
    <body>
        <main>
            <h1>
                {% if pathname %}
                <a href="/repo/{{id}}/">{{name}}</a>
                {% else %} {{name}} {% endif %} {% for child in parentchain %} /
                <a
                    href="/repo/{{id}}/{{'/'.join(parentchain[:parentchain.index(child)+1])}}"
                    >{{child}}</a
                >
                {% endfor %} {% if pathname %} / {{path.name}} {%endif%}
            </h1>
            {% if path.is_dir() %}
            <ul>
                {% if pathname %}
                <li><a href="..">..</a></li>
                {% endif %} {% for child in path.iterdir() %} {% if child.name
                != ".git" %}
                <li>
                    <a href="{{child.name}}{{'/' if child.is_dir() else ''}}"
                        >{{"dir: " if child.is_dir() else "file:
                        "}}{{child.name}}</a
                    >
                </li>
                {% endif %} {% endfor %}
            </ul>
            {% endif %}
        </main>
    </body>
</html>
